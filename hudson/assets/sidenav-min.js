!function a(o,c,l){function r(i,t){if(!c[i]){if(!o[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(d)return d(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=c[i]={exports:{}};o[i][0].call(s.exports,function(t){return r(o[i][1][t]||t)},s,s.exports,a,o,c,l)}return c[i].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)r(l[t]);return r}({1:[function(t,i,e){i.exports={name:"sidenav",version:"2.6.0",description:"Plugin for output side navigation on some pages",repository:{type:"git",url:"git+https://gitlab.com/lotusthemes/sidenav.git"},main:"src/index.js",scripts:{gulp:"gulp default",zat:"cd demo && zat theme preview",start:"run-p gulp zat",build:"gulp build",precommit:"lint-staged",postinstall:"node postinstall.js"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.scss":["prettier --write","stylelint --fix --syntax=scss","git add"],"*.css":["prettier --write","stylelint --fix","git add"],"src/*.js":["prettier --write","eslint --fix","git add"]},keywords:["sidenav"],author:"Aleksandr Zoryn",license:"ISC",bugs:{url:"https://gitlab.com/lotusthemes/sidenav/issues"},homepage:"https://gitlab.com/lotusthemes/sidenav#README",devDependencies:{"@babel/preset-env":"^7.5.5","babel-core":"^6.26.3",babelify:"^10.0.0","browser-sync":"^2.26.7","css-mqpacker":"^7.0.0",del:"^5.0.0",eslint:"^6.1.0","eslint-config-recommended":"^4.0.0",gulp:"^3.9.1","gulp-autoprefixer":"^6.1.0","gulp-bro":"^1.0.3","gulp-clean-css":"^4.2.0","gulp-plumber":"^1.2.1","gulp-postcss":"^8.0.0","gulp-rename":"^1.4.0","gulp-sass":"^4.0.2","gulp-uglify":"^3.0.2","gulp-watch":"^5.0.1",husky:"^3.0.3","lint-staged":"^9.2.1","postcss-merge-rules":"^4.0.3",prettier:"^1.18.2","run-sequence":"^2.2.0",stylelint:"^10.1.0","stylelint-config-rational-order":"^0.1.2","stylelint-config-lotus":"git+https://gitlab.com/lotusthemes/stylelint-config-lotus.git"},dependencies:{apidata:"git+https://gitlab.com/lotusthemes/extensions/apidata.git","fs-extra":"^8.1.0"}}},{}],2:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t("./constants"),n=t("./utils");function o(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c={content:["articles","sections","categories"],animation:"accordion",animationDuration:300,homeTitle:"Home",backTitle:"",autoHeightAnimation:!1,mobileBreakpoint:767,showMobile:!0,buttonText:"Toggle navigation",includeCategories:null,includeSections:null,includeArticles:null,excludeCategories:null,excludeSections:null,excludeArticles:null},s=function(){function s(t,i,e,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,s),this.i=t,this.$element=i,this.options=$.extend({},c,e),this.data=n,this.ifRenderCategories=-1!==this.options.content.indexOf("categories"),this.ifRenderSections=-1!==this.options.content.indexOf("sections"),this.ifRenderArticles=-1!==this.options.content.indexOf("articles"),this.state={},this.height=0,this.view="desktop",this.init()}return function(t,i,e){i&&o(t.prototype,i),e&&o(t,e)}(s,[{key:"init",value:function(){this.$wrapper=$('<div class="'.concat(a.CSS_PREFIX,'-container"></div>')),this.$box=$('<div class="'.concat(a.CSS_PREFIX," ").concat(a.CSS_PREFIX,"_").concat(this.i," ").concat(a.CSS_PREFIX,'_init"></div>')),this.initialStates(),"slide"===this.options.animation?(this.$box.addClass(a.CSS_PREFIX+"_slide"),this.initVisibleSlideBlocks()):this.$box.addClass(a.CSS_PREFIX+"_accordion"),this.$element.html(this.$wrapper.html(this.$box[0])[0]),this.options.showMobile&&(this.$button=$('<a href="#" class="btn btn--primary '.concat(a.CSS_PREFIX,'-btn" style="display: none;">').concat(this.options.buttonText,"</a>")),this.$overlay=$('<div class="'.concat(a.CSS_PREFIX,'-overlay" style="display: none;"></div>')),this.$element.append(this.$overlay[0]),this.$element.append(this.$button[0])),this.renderMenuItems(),this.initVisibleAccordionBlocks()}},{key:"renderMenuItems",value:function(){var t=this.ifRenderCategories?this.getCategoriesTemplate(ApiData.toCategoriesTree(this.data)):this.ifRenderSections?this.getSectionsTemplate(ApiData.toSectionsTree(this.data)):this.getArticlesTemplate(this.data.articles);this.$box.append(t),this.handleToggleMobileView(),"slide"===this.options.animation?(this.autoHeightAnimation(),this.changeBoxHeight(),this.$box.find("span.".concat(a.CSS_PREFIX,"__category-name")).on("click",this.handleCategoryClick.bind(this)),this.$box.find("span.".concat(a.CSS_PREFIX,"__section-name")).on("click",this.handleSectionClick.bind(this)),this.$box.find("span[data-".concat(a.CSS_PREFIX,"-back-to-categories]")).on("click",this.handleBackToCategoriesClick.bind(this)),this.$box.find("span[data-".concat(a.CSS_PREFIX,"-back-to-sections]")).on("click",this.handleBackToSectionsClick.bind(this)),this.$box.find("span[data-".concat(a.CSS_PREFIX,"-back-to-prev-sections]")).on("click",this.handleBackToPrevSections.bind(this))):(this.$box.find("span.".concat(a.CSS_PREFIX,"__category-name")).on("click",this.handleCategorySlideToggleClick.bind(this)),this.$box.find("span.".concat(a.CSS_PREFIX,"__section-name")).on("click",this.handleSectionSlideToggleClick.bind(this))),this.options.showMobile&&(this.$button.on("click",this.handleToggleMobileMenu.bind(this)),this.$overlay.on("click",this.handleHideMobileMenu.bind(this))),$(window).on("resize",this.handleToggleMobileView.bind(this))}},{key:"initialStates",value:function(){if(-1!==window.location.pathname.indexOf("/categories/"))this.state={currentPage:"category",activeCategoryId:parseInt(window.location.pathname.replace(a.REG_CATEGORY_ID,"$1"))};else if(-1!==window.location.pathname.indexOf("/sections/"))this.state={currentPage:"section",activeSectionId:[parseInt(window.location.pathname.replace(a.REG_SECTION_ID,"$1"))]},this.ifRenderCategories&&(this.state.activeCategoryId=ApiData.filterBySectionId(this.data,this.state.activeSectionId[0]).categories[0].id);else if(-1!==window.location.pathname.indexOf("/articles/")){this.state={currentPage:"article",activeArticleId:parseInt(window.location.pathname.replace(a.REG_ARTICLE_ID,"$1"))};var t=ApiData.filterByArticleId(this.data,this.state.activeArticleId);this.ifRenderCategories&&(this.state.activeCategoryId=t.categories[0].id),this.ifRenderSections&&(this.state.activeSectionId=[t.sections[0].id])}this.pushActiveSections()}},{key:"pushActiveSections",value:function(t){if(this.state.activeSectionId&&this.state.activeSectionId.length){var i=t||ApiData.filterBySectionId(this.data,this.state.activeSectionId[0]).sections[0];if(i&&i.parent_section_id){var e=ApiData.filterBySectionId(this.data,i.parent_section_id).sections[0];e&&(this.state.activeSectionId.push(e.id),this.pushActiveSections(e))}}}},{key:"initVisibleSlideBlocks",value:function(){"category"===this.state.currentPage?this.isExist("category")&&this.$box.addClass(a.CSS_PREFIX+"_sections-is-active"):"section"===this.state.currentPage?this.isExist("section")&&this.isExist("category")?this.$box.addClass(a.CSS_PREFIX+"_articles-is-active"):this.isExist("category")&&this.$box.addClass(a.CSS_PREFIX+"_sections-is-active"):"article"===this.state.currentPage&&(this.isExist("article")&&this.isExist("section")&&this.isExist("category")||this.isExist("section")&&this.isExist("category")?this.$box.addClass(a.CSS_PREFIX+"_articles-is-active"):this.isExist("category")&&this.$box.addClass(a.CSS_PREFIX+"_sections-is-active"))}},{key:"initVisibleAccordionBlocks",value:function(){"accordion"===this.options.animation&&this.$box.find(".sidenav__category.is-active > .sidenav__sections-list, .sidenav__section.is-active > .sidenav__articles-list").css("display","block")}},{key:"isExist",value:function(t){var i="category"===t?this.state.activeCategoryId:"section"===t?this.state.activeSectionId:this.state.activeArticleId;if("section"!==t)return"article"===t?(0,n.isExist)(this.options.includeArticles,this.options.excludeArticles,i):"category"===t&&(0,n.isExist)(this.options.includeCategories,this.options.excludeCategories,i);for(var e=0;e<i.length;e++)if((0,n.isExist)(this.options.includeSections,this.options.excludeSections,i[0]))return!0;return!1}},{key:"getCategoriesTemplate",value:function(t){return'\n      <ul class="'.concat(a.CSS_PREFIX,'__categories-list" style="transition: transform ').concat(this.options.animationDuration,'ms">\n        ').concat(this.options.homeTitle?'\n          <li class="'.concat(a.CSS_PREFIX,"__category ").concat(a.CSS_PREFIX,'__home">\n            <a href="/hc" class="').concat(a.CSS_PREFIX,'__category-name">').concat(this.options.homeTitle,"</a>\n          </li>\n        "):"","\n        ").concat(t.map(this.getCategoryTemplate.bind(this)).join(""),"\n      </ul>\n    ")}},{key:"getCategoryTemplate",value:function(t){return this.options.includeCategories&&-1===this.options.includeCategories.indexOf(t.id)?"":this.options.excludeCategories&&-1!==this.options.excludeCategories.indexOf(t.id)?"":'\n      <li class="'.concat(a.CSS_PREFIX,"__category ").concat(this.state.activeCategoryId===t.id?a.ACTIVE_CLASS:"",'"\n        data-').concat(a.CSS_PREFIX,'-category-id="').concat(t.id,'">\n        ').concat(this.ifRenderSections?'<span class="'.concat(a.CSS_PREFIX,'__category-name">').concat(t.name,"</span>\n            ").concat(this.getSectionsTemplate(t.sections,t)):this.ifRenderArticles?'<span class="'.concat(a.CSS_PREFIX,'__category-name">').concat(t.name,"</span>\n           ").concat(this.getArticlesTemplate(ApiData.filterByCategoryId(this.data,t.id).articles,null,t)):'<a href="'.concat(t.html_url,'" class="').concat(a.CSS_PREFIX,'__category-name">').concat(t.name,"</a>"),"\n      </li>")}},{key:"getSectionsTemplate",value:function(t,i){return'\n      <ul class="'.concat(a.CSS_PREFIX,'__sections-list" style="transition: transform ').concat(this.options.animationDuration,'ms"\n        ').concat(i?"data-".concat(a.CSS_PREFIX,"-parent-").concat(i.category_id?"section":"category",'="').concat(i.id,'"'):"",">\n        ").concat(i?"\n          ".concat("slide"!==this.options.animation?"":'\n          <li class="'.concat(a.CSS_PREFIX,"__section ").concat(a.CSS_PREFIX,'__back">\n            <span data-').concat(a.CSS_PREFIX,"-back-to-").concat(i.category_id?"sections":"categories",">").concat(this.options.backTitle||i.name,"</span>\n          </li>\n          "),"\n        "):this.getHomeLinkTemplate(),"\n        ").concat(t.map(this.getSectionTemplate.bind(this)).join(""),"\n      </ul>\n    ")}},{key:"getSectionTemplate",value:function(t){return this.options.includeSections&&-1===this.options.includeSections.indexOf(t.id)?"":this.options.excludeSections&&-1!==this.options.excludeSections.indexOf(t.id)?"":'\n      <li class="'.concat(a.CSS_PREFIX,"__section ").concat(this.state.activeSectionId&&-1!==this.state.activeSectionId.indexOf(t.id)?a.ACTIVE_CLASS:"",'"\n        data-').concat(a.CSS_PREFIX,'-section-id="').concat(t.id,'">\n        ').concat(this.ifRenderArticles?'<span class="'.concat(a.CSS_PREFIX,'__section-name">').concat(t.name,"</span>\n         ").concat(this.getArticlesTemplate(t.articles,t)):'<a href="'.concat(t.html_url,'" class="').concat(a.CSS_PREFIX,'__section-name">').concat(t.name,"</a>"),"\n      </li>\n    ")}},{key:"getArticlesTemplate",value:function(t,i,e){var n="";return i&&this.state.activeSectionId&&(n=i.id===this.state.activeSectionId[0]?a.VISIBLE_CLASS+" "+a.ACTIVE_CLASS:""),'\n      <ul class="'.concat(a.CSS_PREFIX,"__articles-list ").concat(n,'" style="transition: transform ').concat(this.options.animationDuration,'ms"\n        ').concat(e?"data-".concat(a.CSS_PREFIX,'-parent-category="').concat(e.id,'"'):"","\n        ").concat(i?"data-".concat(a.CSS_PREFIX,'-parent-section="').concat(i.id,'"'):"",">\n        ").concat(e?"\n          ".concat("slide"!==this.options.animation?"":'\n            <li class="'.concat(a.CSS_PREFIX,"__article ").concat(a.CSS_PREFIX,'__back">\n              <span data-').concat(a.CSS_PREFIX,"-back-to-categories>").concat(this.options.backTitle||e.name,"</span>\n            </li>\n          "),"\n        "):i?"\n          ".concat("slide"!==this.options.animation?"":'\n            <li class="'.concat(a.CSS_PREFIX,"__article ").concat(a.CSS_PREFIX,'__back">\n             <span data-').concat(a.CSS_PREFIX,"-back-to-").concat(i.parent_section_id?"prev-":"","sections>").concat(this.options.backTitle||i.name,"</span>\n            </li>\n          "),"\n        "):this.getHomeLinkTemplate(),"\n        ").concat(i&&i.sections&&i.sections.length?i.sections.map(this.getSectionTemplate.bind(this)).join(""):"","\n        ").concat(t.map(this.getArticleTemplate.bind(this)).join(""),"\n      </ul>\n    ")}},{key:"getArticleTemplate",value:function(t){return this.options.includeArticles&&-1===this.options.includeArticles.indexOf(t.id)?"":this.options.excludeArticles&&-1!==this.options.excludeArticles.indexOf(t.id)?"":'\n      <li class="'.concat(a.CSS_PREFIX,"__article ").concat(this.state.activeArticleId===t.id?a.ACTIVE_CLASS:"",'" \n        data-').concat(a.CSS_PREFIX,'-article-id="').concat(t.id,'">\n        <a href="').concat(t.html_url,'" class="').concat(a.CSS_PREFIX,'__article-name">').concat(t.title,"</a>\n      </li>\n    ")}},{key:"getHomeLinkTemplate",value:function(){return this.options.homeTitle?'\n      <li class="'.concat(a.CSS_PREFIX,"__section ").concat(a.CSS_PREFIX,'__home">\n        <a href="/hc" class="').concat(a.CSS_PREFIX,'__section-name">').concat(this.options.homeTitle,"</a>\n      </li>\n    "):""}},{key:"categoriesIsActive",value:function(){this.addActiveClass(),this.$box.removeClass("sidenav_articles-is-active sidenav_sections-is-active").addClass("sidenav_categories-is-active")}},{key:"sectionsIsActive",value:function(t){this.addActiveClass(t?"[data-".concat(a.CSS_PREFIX,'-parent-category="').concat(t,'"]'):null),this.$box.removeClass("sidenav_categories-is-active sidenav_articles-is-active").addClass("sidenav_sections-is-active")}},{key:"articlesIsActive",value:function(t){this.addActiveClass("[data-".concat(a.CSS_PREFIX,'-parent-section="').concat(t,'"]')),this.$box.removeClass("sidenav_categories-is-active sidenav_sections-is-active").addClass("sidenav_articles-is-active")}},{key:"addActiveClass",value:function(t){var i=this;t&&this.$box.find(t).addClass(a.ACTIVE_CLASS).addClass(a.VISIBLE_CLASS),"slide"===this.options.animation?(this.changeBoxHeight(t),this.removeActiveClass(t,!0),setTimeout(function(){return i.removeActiveClass(t)},this.options.animationDuration)):this.removeActiveClass(t)}},{key:"removeActiveClass",value:function(t,i){var e=i?a.VISIBLE_CLASS:a.ACTIVE_CLASS;t?this.$box.find("ul."+e).not(t).removeClass(e):this.$box.find("ul."+e).removeClass(e),this.$box.hasClass("".concat(a.CSS_PREFIX,"_init"))&&this.$box.removeClass("".concat(a.CSS_PREFIX,"_init"))}},{key:"autoHeightAnimation",value:function(){this.options.autoHeightAnimation&&this.$box.css("transition-duration",this.options.animationDuration+"ms")}},{key:"changeBoxHeight",value:function(t){var i=this,e=t?this.$box.find(t).outerHeight():this.$box.find("."+a.ACTIVE_CLASS).length&&this.$box.hasClass(a.CSS_PREFIX+"_init")?this.$box.find("."+a.ACTIVE_CLASS).last().children("ul").outerHeight()||this.$box.find("."+a.ACTIVE_CLASS).last().closest("ul").outerHeight():this.$box.children("ul").outerHeight();this.options.autoHeightAnimation||!this.height?this.$box.height(e):(this.autoHeightDelay&&clearTimeout(this.autoHeightDelay),this.$box.height(e>this.height?e:this.height),this.autoHeightDelay=setTimeout(function(){i.$box.height(e)},this.options.animationDuration)),this.height=e}},{key:"handleCategoryClick",value:function(t){t.preventDefault();var i=$(t.currentTarget).closest("[data-".concat(a.CSS_PREFIX,"-category-id]")).attr("data-".concat(a.CSS_PREFIX,"-category-id"));this.sectionsIsActive(i)}},{key:"handleSectionClick",value:function(t){t.preventDefault();var i=$(t.currentTarget).closest("[data-".concat(a.CSS_PREFIX,"-section-id]")).attr("data-".concat(a.CSS_PREFIX,"-section-id"));this.articlesIsActive(i)}},{key:"handleBackToCategoriesClick",value:function(t){t.preventDefault(),this.categoriesIsActive()}},{key:"handleBackToSectionsClick",value:function(t){t.preventDefault(),this.ifRenderCategories?this.handleCategoryClick(t):this.sectionsIsActive()}},{key:"handleBackToPrevSections",value:function(t){t.preventDefault();var i=$(t.currentTarget).parents("[data-".concat(a.CSS_PREFIX,"-section-id]")).eq(1).attr("data-".concat(a.CSS_PREFIX,"-section-id"));this.articlesIsActive(i)}},{key:"slideToggle",value:function(t){t.siblings("ul").slideToggle(this.options.animationDuration)}},{key:"handleCategorySlideToggleClick",value:function(t){var i=$(t.currentTarget);this.slideToggle(i),i.closest(".".concat(a.CSS_PREFIX,"__category")).toggleClass(a.ACTIVE_CLASS)}},{key:"handleSectionSlideToggleClick",value:function(t){var i=$(t.currentTarget);this.slideToggle(i),i.closest(".".concat(a.CSS_PREFIX,"__section")).toggleClass(a.ACTIVE_CLASS)}},{key:"handleToggleMobileView",value:function(){window.innerWidth<=this.options.mobileBreakpoint&&"desktop"===this.view&&(this.view="mobile",this.options.showMobile?(this.$button.show(0),this.$overlay.show(0),this.$wrapper.addClass("".concat(a.CSS_PREFIX,"-mobile"))):this.$wrapper.hide(0)),window.innerWidth>this.options.mobileBreakpoint&&"mobile"===this.view&&(this.view="desktop",this.options.showMobile?(this.$button.hide(0),this.$overlay.hide(0),this.$wrapper.removeClass("".concat(a.CSS_PREFIX,"-mobile"))):this.$wrapper.show(0)),"slide"===this.options.animation&&this.changeBoxHeight()}},{key:"handleToggleMobileMenu",value:function(t){t.preventDefault(),this.$overlay.toggleClass("is-active"),this.$wrapper.toggleClass("is-active")}},{key:"handleHideMobileMenu",value:function(t){t.preventDefault(),this.$overlay.removeClass("is-active"),this.$wrapper.removeClass("is-active")}},{key:"openCategory",value:function(t,i){var e=this;if("slide"===this.options.animation)this.sectionsIsActive("number"==typeof t?t:t[0]);else{var n=i?0:this.options.animationDuration;"number"==typeof t?(this.$element.find("[data-".concat(a.CSS_PREFIX,'-parent-category="').concat(t,'"]')).slideDown(n),this.$element.find("[data-".concat(a.CSS_PREFIX,'-category-id="').concat(t,'"]')).addClass(a.ACTIVE_CLASS)):t.forEach(function(t){e.$element.find("[data-".concat(a.CSS_PREFIX,'-parent-category="').concat(t,'"]')).slideDown(n),e.$element.find("[data-".concat(a.CSS_PREFIX,'-category-id="').concat(t,'"]')).addClass(a.ACTIVE_CLASS)})}}},{key:"openSection",value:function(t,i){var e=this;if("slide"===this.options.animation)this.articlesIsActive("number"==typeof t?t:t[0]);else{var n=i?0:this.options.animationDuration;"number"==typeof t?(this.$element.find("[data-".concat(a.CSS_PREFIX,'-parent-section="').concat(t,'"]')).slideDown(n),this.$element.find("[data-".concat(a.CSS_PREFIX,'-section-id="').concat(t,'"]')).addClass(a.ACTIVE_CLASS)):t.forEach(function(t){e.$element.find("[data-".concat(a.CSS_PREFIX,'-parent-section="').concat(t,'"]')).slideDown(n),e.$element.find("[data-".concat(a.CSS_PREFIX,'-section-id="').concat(t,'"]')).addClass(a.ACTIVE_CLASS)})}}},{key:"openAllCategories",value:function(t){var i="slide"===this.options.animation?this.data.categories[0].id:this.data.categories.map(function(t){return t.id});this.openCategory(i,t)}},{key:"openAllSections",value:function(t){var i="slide"===this.options.animation?this.data.sections[0].id:this.data.sections.map(function(t){return t.id});this.openSection(i,t)}}]),s}();e.default=s},{"./constants":3,"./utils":5}],3:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REG_ARTICLE_ID=e.REG_SECTION_ID=e.REG_CATEGORY_ID=e.VISIBLE_CLASS=e.ACTIVE_CLASS=e.CSS_PREFIX=void 0;e.CSS_PREFIX="sidenav";e.ACTIVE_CLASS="is-active";e.VISIBLE_CLASS="is-visible";e.REG_CATEGORY_ID=/\/hc(?:\/[A-Za-z_-]+)?\/categories\/([0-9]+)[\S]*$/i;e.REG_SECTION_ID=/\/hc(?:\/[A-Za-z_-]+)?\/sections\/([0-9]+)[\S]*$/i;e.REG_ARTICLE_ID=/\/hc(?:\/[A-Za-z_-]+)?\/articles\/([0-9]+)[\S]*$/i},{}],4:[function(t,i,e){"use strict";var n,o=(n=t("./SideNav"))&&n.__esModule?n:{default:n},s=t("../package");$(window).on("apiDataFetched",function(t,a){$(function(){$("[data-sidenav]").each(function(t,i){var e=$(i),n=e.data("sidenav")||{};t||$("html").addClass("sidenav-enabled");var s=new o.default(t,e,n,a);$(window).trigger("sidenavRendered",s),$(window).trigger("resize")})})}),window.SideNav={version:s.version}},{"../package":1,"./SideNav":2}],5:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isExist=void 0;e.isExist=function(t,i,e){return t?-1!==t.indexOf(e):!i||-1===i.indexOf(e)}},{}]},{},[4]);